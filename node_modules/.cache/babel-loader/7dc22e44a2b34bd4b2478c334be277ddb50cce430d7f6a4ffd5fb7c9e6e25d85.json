{"ast":null,"code":"import{Fragment}from\"react\";import{useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import Cart from\"./components/Cart/Cart\";import Layout from\"./components/Layout/Layout\";import Products from\"./components/Shop/Products\";import Notification from\"./components/UI/Notification\";import{sendCartData,fetchCartData}from\"./store/cart-actions\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";let isInitial=true;function App(){const dispatch=useDispatch();const showCart=useSelector(state=>state.ui.cartIsVisible);const cart=useSelector(state=>state.cart);const notification=useSelector(state=>state.ui.notification);useEffect(()=>{dispatch(fetchCartData());},[dispatch]);useEffect(()=>{if(isInitial){isInitial=false;return;}if(cart.changed){dispatch(sendCartData(cart));}},[cart,dispatch]);return/*#__PURE__*/_jsxs(Fragment,{children:[notification&&/*#__PURE__*/_jsx(Notification,{status:notification.status,title:notification.title,message:notification.message}),/*#__PURE__*/_jsxs(Layout,{children:[showCart&&/*#__PURE__*/_jsx(Cart,{}),/*#__PURE__*/_jsx(Products,{})]})]});}export default App;","map":{"version":3,"names":["Fragment","useEffect","useSelector","useDispatch","Cart","Layout","Products","Notification","sendCartData","fetchCartData","jsx","_jsx","jsxs","_jsxs","isInitial","App","dispatch","showCart","state","ui","cartIsVisible","cart","notification","changed","children","status","title","message"],"sources":["C:/Users/Vasfi Ocak/Desktop/Veysi/development/food-redux-app/src/App.js"],"sourcesContent":["import { Fragment } from \"react\";\nimport { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport Cart from \"./components/Cart/Cart\";\nimport Layout from \"./components/Layout/Layout\";\nimport Products from \"./components/Shop/Products\";\nimport Notification from \"./components/UI/Notification\";\nimport { sendCartData, fetchCartData } from \"./store/cart-actions\";\n\nlet isInitial = true;\nfunction App() {\n\tconst dispatch = useDispatch();\n\tconst showCart = useSelector((state) => state.ui.cartIsVisible);\n\tconst cart = useSelector((state) => state.cart);\n\tconst notification = useSelector((state) => state.ui.notification);\n\tuseEffect(() => {\n\t\tdispatch(fetchCartData());\n\t}, [dispatch]);\n\tuseEffect(() => {\n\t\tif (isInitial) {\n\t\t\tisInitial = false;\n\t\t\treturn;\n\t\t}\n\t\tif (cart.changed) {\n\t\t\tdispatch(sendCartData(cart));\n\t\t}\n\t}, [cart, dispatch]);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{notification && (\n\t\t\t\t<Notification\n\t\t\t\t\tstatus={notification.status}\n\t\t\t\t\ttitle={notification.title}\n\t\t\t\t\tmessage={notification.message}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<Layout>\n\t\t\t\t{showCart && <Cart />}\n\t\t\t\t<Products />\n\t\t\t</Layout>\n\t\t</Fragment>\n\t);\n}\n\nexport default App;\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CAEtD,MAAO,CAAAC,IAAI,KAAM,wBAAwB,CACzC,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAC/C,MAAO,CAAAC,QAAQ,KAAM,4BAA4B,CACjD,MAAO,CAAAC,YAAY,KAAM,8BAA8B,CACvD,OAASC,YAAY,CAAEC,aAAa,KAAQ,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnE,GAAI,CAAAC,SAAS,CAAG,IAAI,CACpB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACd,KAAM,CAAAC,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAc,QAAQ,CAAGf,WAAW,CAAEgB,KAAK,EAAKA,KAAK,CAACC,EAAE,CAACC,aAAa,CAAC,CAC/D,KAAM,CAAAC,IAAI,CAAGnB,WAAW,CAAEgB,KAAK,EAAKA,KAAK,CAACG,IAAI,CAAC,CAC/C,KAAM,CAAAC,YAAY,CAAGpB,WAAW,CAAEgB,KAAK,EAAKA,KAAK,CAACC,EAAE,CAACG,YAAY,CAAC,CAClErB,SAAS,CAAC,IAAM,CACfe,QAAQ,CAACP,aAAa,CAAC,CAAC,CAAC,CAC1B,CAAC,CAAE,CAACO,QAAQ,CAAC,CAAC,CACdf,SAAS,CAAC,IAAM,CACf,GAAIa,SAAS,CAAE,CACdA,SAAS,CAAG,KAAK,CACjB,OACD,CACA,GAAIO,IAAI,CAACE,OAAO,CAAE,CACjBP,QAAQ,CAACR,YAAY,CAACa,IAAI,CAAC,CAAC,CAC7B,CACD,CAAC,CAAE,CAACA,IAAI,CAAEL,QAAQ,CAAC,CAAC,CAEpB,mBACCH,KAAA,CAACb,QAAQ,EAAAwB,QAAA,EACPF,YAAY,eACZX,IAAA,CAACJ,YAAY,EACZkB,MAAM,CAAEH,YAAY,CAACG,MAAO,CAC5BC,KAAK,CAAEJ,YAAY,CAACI,KAAM,CAC1BC,OAAO,CAAEL,YAAY,CAACK,OAAQ,CAC9B,CACD,cACDd,KAAA,CAACR,MAAM,EAAAmB,QAAA,EACLP,QAAQ,eAAIN,IAAA,CAACP,IAAI,GAAE,CAAC,cACrBO,IAAA,CAACL,QAAQ,GAAE,CAAC,EACL,CAAC,EACA,CAAC,CAEb,CAEA,cAAe,CAAAS,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}